---
title: Auth Rules
description: Declarative authorization for Supabase
---

Auth Rules lets you define who can access what in your Supabase app
using simple SQL. Write rules once, and your API automatically
enforces them.

## The problem

Row Level Security can be frustrating:

- **Silent failures** — Queries return empty results instead of telling you why
- **Hidden logic** — Authorization rules scattered across policies
- **Row-only** — No way to control which columns are exposed
- **Hard to audit** — Difficult to see what access rules exist

## The solution

Auth Rules splits access control into two parts. **Claims** describe
which entities each user is related to — which orgs they belong to,
which teams they're on. **Rules** use those claims to control what
operations are allowed on your tables.

Here's a complete example. Say you have users, organizations, and
documents. Users can only see documents in orgs they belong to.

First, define the claim — the relationship between users and orgs:

```sql title="claims.sql"
SELECT auth_rules.claim('org_ids', $$
  SELECT user_id, org_id FROM org_members
$$);
```

Then, define the rules — what users can do with documents:

```sql title="rules.sql"
-- Users can read documents in their orgs
SELECT auth_rules.rule('documents',
  auth_rules.select('id', 'org_id', 'title', 'content'),
  auth_rules.eq('org_id', auth_rules.one_of('org_ids'))
);

-- Users can create documents in their orgs
SELECT auth_rules.rule('documents',
  auth_rules.insert(),
  auth_rules.eq('org_id', auth_rules.one_of('org_ids'))
);

-- Users can only delete their own documents
SELECT auth_rules.rule('documents',
  auth_rules.delete(),
  auth_rules.eq('created_by', auth_rules.user_id_marker())
);
```

That's it. Your client code stays the same:

```typescript title="app.ts"
// Only returns documents from user's orgs
const { data } = await supabase.from('documents').select('*')

// Fails with clear error if user isn't in that org
await supabase.from('documents').insert({ org_id: 'other-org', title: 'Test' })
```

## What you get

Auth Rules gives you:

- **Column control** — Specify exactly which fields to expose
- **Clear errors** — Write operations fail with meaningful messages
- **Auditable rules** — See all access rules with `SELECT * FROM auth_rules.list_rules()`
- **No client changes** — Your existing Supabase queries work as-is

## Next steps

Learn more about Auth Rules:

<Cards>
  <Card title="Claims" href="/docs/auth-rules/claims" />
  <Card title="Rules" href="/docs/auth-rules/rules" />
  <Card title="Common Patterns" href="/docs/auth-rules/common-patterns" />
  <Card title="Role-Based Access" href="/docs/auth-rules/check-claim" />
  <Card title="Require on SELECT" href="/docs/auth-rules/strict-mode" />
  <Card title="File Sharing" href="/docs/auth-rules/use-cases/file-sharing" />
  <Card title="How It Works" href="/docs/auth-rules/internals" />
</Cards>
